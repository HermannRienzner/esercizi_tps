<html>
    <head>
        <title>
           Creazione personaggio
        </title>
    </head>
    <link rel="stylesheet" href="RPG.css">
    <body>
        <script>
            function stampaPagina(){
//inizio assegnazione caratteristiche        
                let avventurriero = {};
                let caratteristiche = {
                    nome: "", 
                    classe: "", 
                    eta: 0, 
                    healthPoints: 0, 
                    armorClass: 0
                };

                caratteristiche.nome = document.getElementById("inputText").value;
                caratteristiche.eta = document.getElementById("inputNumero").value;
                for(let i = 0; i < document.getElementsByName("classe").length; i++){
                    if(document.getElementsByName("classe")[i].checked){
                        caratteristiche.classe = document.getElementsByName("classe")[i].value;
                    }
                }
                if(caratteristiche.classe == "Guerriero"){
                    caratteristiche.healthPoints = 20;
                }
                else if (caratteristiche.classe == "Arciere"){
                    caratteristiche.healthPoints = 15;
                }
                else{ // classe Stregone
                    caratteristiche.healthPoints = 10;
                }                
//fine assegnazione caratteristiche


// inizio assegnazione equipaggiamento                
                let equipaggiamento = [{
                    nome: "Scudo di cuoio", 
                    armorClass: 1, 
                    ingombro: false, 
                    equip: true
                },
                {
                    nome: "Cintura per pozioni", 
                    numeroPozioni: 3, 
                    maxPozioni: 5
                }, 
                {
                    nome: "Borsa di monete", 
                    valore: 50
                },
                {
                    nome: "",
                    armorClass: 0,
                    equip: true
                }
                ];            
// fine assegnazione equipaggiamento    


// inizio assegnazione armi e armatura
                let armi = [{
                    nome: "", 
                    dannoMax: 0, 
                    attacchi: 0, 
                    portata: 0, 
                    ingombro: false, 
                    equip: false
                }, 
                {
                    nome: "", 
                    dannoMax: 0, 
                    attacchi: 0, 
                    portata: 0, 
                    ingombro: false, 
                    equip: false
                }];

                if(caratteristiche.classe == "Arciere"){
                    armi[0].nome = "Arco lungo";
                    armi[0].dannoMax = 8;
                    armi[0].attacchi = 2;
                    armi[0].portata = 70;
                    armi[0].ingombro = false;
                    armi[0].equip = true;
                    armi[1].nome = "Colpo di freccia";
                    armi[1].dannoMax = 2;
                    armi[1].attacchi = 3;
                    armi[1].portata = 1;
                    armi[1].ingombro = false;
                    armi[1].equip = true;

                    equipaggiamento[3].nome = "Corazza di cuoio"
                    equipaggiamento[3].armorClass = 12;
                    caratteristiche.armorClass = equipaggiamento[2].armorClass + equipaggiamento[0].armorClass;
                }

                if(caratteristiche.classe == "Guerriero"){
                    armi[0].nome = "flamberga";
                    armi[0].dannoMax = 12;
                    armi[0].attacchi = 2;
                    armi[0].portata = 3;
                    armi[0].ingombro = true;
                    armi[0].equip = true;
                    armi[1].nome = "spada corta";
                    armi[1].dannoMax = 6;
                    armi[1].attacchi = 2;
                    armi[1].portata = 1;
                    armi[1].ingombro = false;
                    armi[1].equip = false;

                    equipaggiamento[3].nome = "Corazza a scaglie"
                    equipaggiamento[3].armorClass = 14;
                    caratteristiche.armorClass = equipaggiamento[2].armorClass + equipaggiamento[0].armorClass;
                }

                if(caratteristiche.classe == "Stregone"){
                    armi[0].nome = "Proiettile magico";
                    armi[0].dannoMax = 5;
                    armi[0].attacchi = 4;
                    armi[0].portata = 20;
                    armi[0].ingombro = false;
                    armi[0].equip = true;
                    armi[1].nome = "Tempesta";
                    armi[1].dannoMax = 20;
                    armi[1].portata = "Aura";
                    armi[1].attacchi = 1;
                    armi[1].ingombro = false;
                    armi[1].equip = true;

                    equipaggiamento[3].nome = "Vesti"
                    equipaggiamento[3].armorClass = 10;
                    caratteristiche.armorClass = equipaggiamento[2].armorClass + equipaggiamento[0].armorClass;
                }                   
// fine assegnazione armi  


// inizio assegnazione inventario
                let inventario = [{
                    vuoto: true
                },
                {
                    vuoto: true
                },
                {
                    vuoto: true
                },
                {
                    vuoto: true
                }, 
                {
                    vuoto: true
                }, 
                {
                    vuoto: true
                }]

                for(let i = 0; i < inventario.length; i ++) {
                    if (armi[0].equip == false){
                        if (inventario[i].vuoto == true){
                            inventario[i] = armi[0];
                            inventario[i].vuoto = false;
                            break;
                        }
                    }
                    if (armi[1].equip == false){
                        if (inventario[i].vuoto == true){
                            inventario[i] = armi[1];
                            inventario[i].vuoto = false;
                            break;
                        }
                    }
                } 
// fine assegnazione inventario


// l'avventurriero inizia il suo viaggio
                avventurriero = {caratteristiche, armi, equipaggiamento, inventario};
                localStorage.setItem("eroe", JSON.stringify(avventurriero));
// l'avventurriero è arrivato
            }

            function avviaAvventura(){
                let classeScelta;
                for(let i = 0; i < document.getElementsByName("classe").length; i++){
                    if(document.getElementsByName("classe")[i].checked){
                        classeScelta = document.getElementsByName("classe")[i].value;
                    }
                }
                document.getElementById("parti").innerHTML = "sei pronto? " + classeScelta;
            }
        </script>

        <h1 style="text-align: center; margin-top: 5%;"> crea il tuo eroe</h1>

        <div style="text-align: center; margin-top: 5%;">
            <input id="inputNumero" type="number" style="text-align: center;"> <br>
            <label for="inputNumero" style="text-align: center;">Inserisci l'età dell'avventurriero</label> <br>
            <input id="inputText" type="text" style="text-align: center;"> <br>
            <label for="inputText" style="text-align: center;"> inserisci il nome dell'avventurriero</label> <br>
        </div>
        <div style="text-align: center; margin-top: 5%;">
            <p>seleziona una delle possibilità per proseguire</p>
            <input type="radio" name="classe" value="Guerriero" onclick="avviaAvventura()">
            <label for="Guerriero"> scegli la classe del Guerriero</label>
            <input type="radio" name="classe" value="Arciere" onclick="avviaAvventura()">
            <label for="Arcere"> scegli la classe dell'Arcere</label>
            <input type="radio" name="classe" value="Stregone" onclick="avviaAvventura()">
            <label for="Stregone"> scegli la classe dello stregone </label>
        </div> <br>
        
        <a href="RPG Capitolo 1.html" id="clicAvventura" onclick="stampaPagina()" style="text-align: center;"> <p id="parti"></p> </a>
    </body>

</html>
